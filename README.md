# Онлайн редактор кода

Современный онлайн редактор кода с поддержкой Python и Go, построенный на Next.js 14. Включает в себя мониторинг системных ресурсов, переключение тем и расширенные возможности редактирования.

## Основные возможности

### 1. Редактор кода

- Monaco Editor (как в VS Code)
- Поддержка Python и Go
- Интеллектуальное автодополнение
- Подсветка синтаксиса
- Сниппеты для часто используемых конструкций
- Автоматическое закрытие скобок и кавычек

### 2. Темы оформления

- Светлая и темная темы
- Автоматическое определение системной темы
- Сохранение выбранной темы
- Плавные переходы между темами
- Кастомные темы для Monaco Editor

### 3. Мониторинг ресурсов

- Отслеживание реального использования CPU
- Мониторинг потребления памяти процессом
- Измерение времени выполнения кода
- Визуальные индикаторы нагрузки

### 4. Выполнение кода

- Ограничение ресурсов (1 ядро CPU, 256MB RAM)
- Отображение результатов в реальном времени
- Статус коды выполнения (200 OK, ошибки)
- Подробные сообщения об ошибках

## Технологический стек

- **Frontend:**
  - Next.js 14 (App Router)
  - TypeScript
  - Monaco Editor
  - Tailwind CSS
  - Zustand (управление состоянием)

- **Backend:**
  - Next.js API Routes
  - Server-Sent Events (метрики)
  - Node.js процессы (мониторинг ресурсов)

## Системные требования

- Node.js 18+
- npm или yarn
- Минимум 512MB RAM
- 1 свободное ядро CPU
- Современный браузер с поддержкой ES6+

## Установка и запуск

1. Клонируйте репозиторий:

```bash
git clone https://github.com/NeuroGhostOutput/code-editor
cd code-editor
```

2. Установите зависимости:

```bash
npm install
```

3. Запустите проект:

```bash
npm run dev
```

Приложение будет доступно по адресу: <http://localhost:3000>

## Структура проекта

```
src/
  ├── app/                # Основные файлы приложения
  │   ├── api/           # API роуты
  │   │   ├── execute/   # Выполнение кода
  │   │   └── metrics/   # Мониторинг ресурсов
  │   ├── layout.tsx     # Корневой layout
  │   └── page.tsx       # Главная страница
  ├── components/        # React компоненты
  │   ├── CodeEditor.tsx
  │   ├── LanguageSelector.tsx
  │   ├── OutputWindow.tsx
  │   ├── ResourceMonitor.tsx
  │   ├── TaskDescription.tsx
  │   └── ThemeSwitcher.tsx
  └── store/            # Управление состоянием
      └── editorStore.ts
```

## API Endpoints

### POST /api/execute

Выполняет код с учетом ограничений ресурсов.

```typescript
// Request
{
  language: "python" | "go",
  code: string
}

// Response
{
  status: "success" | "error",
  output?: string,
  error?: string
}
```

### GET /api/metrics

Server-Sent Events endpoint для мониторинга ресурсов.

```typescript
// SSE Event Data
{
  cpuUsage: number,      // процент использования CPU
  memoryUsage: number,   // использование памяти в байтах
  executionTime: number  // время выполнения в миллисекундах
}
```

## Особенности реализации

1. **Мониторинг ресурсов:**
   - Отслеживание реального использования CPU через process.cpuUsage()
   - Мониторинг памяти через process.memoryUsage()
   - Точное измерение времени выполнения
   - Визуализация метрик в реальном времени

2. **Темы оформления:**
   - CSS переменные для гибкой настройки
   - Автоматическое определение системной темы
   - Сохранение в localStorage
   - Плавные переходы анимаций

3. **Редактор кода:**
   - Кастомные сниппеты для каждого языка
   - Интеллектуальное автодополнение
   - Подсветка парных скобок
   - Настраиваемые отступы

## Возможные улучшения

1. Добавление новых языков программирования
2. Сохранение кода в localStorage
3. Возможность делиться кодом через ссылку
4. Добавление тестов
5. Поддержка многопоточности
6. Кастомизация тем пользователем
7. Сохранение настроек редактора
8. Расширенная статистика выполнения кода

## Лицензия

Коммерческая лицензия с требованием выплаты роялти (50% от дохода). См. [LICENSE](LICENSE) для подробностей.

### Условия использования

1. **Некоммерческое использование:**
   - Разрешено с указанием авторства
   - Сохранение лицензии и уведомлений
   - Запрет на удаление копирайтов

2. **Коммерческое использование:**
   - Требуется письменное уведомление
   - Выплата 50% роялти от дохода
   - Ежеквартальная отчетность
   - Подробный учет использования

3. **Производные работы:**
   - Разрешены с сохранением условий лицензии
   - Применяются те же условия роялти
   - Требуется документирование изменений


